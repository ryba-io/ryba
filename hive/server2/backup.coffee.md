
# Hive Server2 Backup

The backup script dump the logs and the configuration.

    module.exports = []
    module.exports.push 'masson/bootstrap/'
    module.exports.push require('./index').configure

## Backup Logs

Archive the logs generated by the Hive Server2.

    module.exports.push name: "Hive Server # Backup Logs", label_true: 'BACKUPED', handler: (ctx, next) ->
      {hive} = ctx.config.ryba
      ctx.backup
        name: 'logs'
        source: hive.log_dir
        filter: "hive-server2.log.*"
        destination: "/var/backups/hive-server2/"
        interval: month: 1
        retention: count: 2
      .then next

## Backup Configuration

Backup the active Hive configuration.

    module.exports.push name: "Hive Server # Backup Configuration", label_true: 'BACKUPED', handler: (ctx, next) ->
      {hive} = ctx.config.ryba
      ctx.backup
        name: 'conf'
        source: hive.conf_dir
        destination: "/var/backups/hive-server2/"
        interval: month: 1
        retention: count: 2
      .then next


